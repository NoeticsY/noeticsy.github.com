<!DOCTYPE html><html><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Let's Encrypt证书获取【完美解决】2018</title><link rel="shortcut icon" href="/images/avatar.png"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="/css/highlight.min.css"><link rel="stylesheet" href="/css/font-awesome.min.css"></head><body><nav class="main-nav"><a href="/">Home</a><a href="/archives">Archives</a></nav><div class="profile"><section id="wrapper"><header id="header"><a href="/about"><img class="2x" id="avatar" src="/images/avatar.png"></a><h1>Hexo</h1><h2></h2></header></section></div><section class="post" id="wrapper"><article><header><h1>Let's Encrypt证书获取【完美解决】2018</h1><h2 class="headline">Jun 04, 2018 9:09·607 words
·3 minutes read<span class="tags"></span></h2></header><div id="toc"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#网上好多教程都没详细解释是什么情况"><span class="toc-text">网上好多教程都没详细解释是什么情况</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#首先-查看yum-list-virtualenv"><span class="toc-text">首先 查看yum list *virtualenv</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#CentOs-5-x"><span class="toc-text">CentOs 5.x</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#CentOs-6-x"><span class="toc-text">CentOs 6.x</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#CentOs-7-X"><span class="toc-text">CentOs 7.X</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#RHEL-官方扩展源"><span class="toc-text">RHEL 官方扩展源</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#安装"><span class="toc-text">安装</span></a></div><section id="post-body"><blockquote>
<p>折腾了下，我只想说 好多教程多是坑人的</p>
</blockquote>
<p>于是自己写了篇文章来帮助其他小伙伴；<br>若有疑问欢迎咨询！</p>
<ul>
<li style="list-style: none"><input type="checkbox" checked> 不用自己装python3(担心系统自带python2.6)</li>
<li style="list-style: none"><input type="checkbox" checked> 不用修改什么七七八八的配置，没那么麻烦</li>
<li style="list-style: none"><input type="checkbox" checked> 新开服务器，直接安照这教程中，分分钟ko</li>
</ul>
<h3 id="网上好多教程都没详细解释是什么情况"><a href="#网上好多教程都没详细解释是什么情况" class="headerlink" title="网上好多教程都没详细解释是什么情况"></a>网上好多教程都没详细解释是什么情况</h3><p>具体原因是因为<br>certbot-auto的工作方式首先检查是否需要启用EPEL。通过<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yum list *virtualenv</span><br><span class="line"><span class="comment">#如果没有而用安装了EPEL源，又没有返回可用的包。</span></span><br><span class="line"><span class="comment">#那么需要查看是否启用了源或者源可用</span></span><br><span class="line"><span class="comment">#因此，如果返回了可用的包，那么你输入命令可以直接通过，它将自动给你安装python3以及匹配其他依赖</span></span><br></pre></td></tr></table></figure></p>
<h3 id="首先-查看yum-list-virtualenv"><a href="#首先-查看yum-list-virtualenv" class="headerlink" title="首先 查看yum list *virtualenv"></a>首先 查看yum list *virtualenv</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#yum list *virtualenv</span></span><br><span class="line">查看是否有 virtualenv 相关的包</span><br><span class="line">Loaded plugins: clearcenter-marketplace, fastestmirror</span><br><span class="line">ClearCenter Marketplace: fetching repositories...</span><br><span class="line">.....................</span><br><span class="line">Installed Packages</span><br><span class="line">python-virtualenv.noarch               1.10.1-1.el6                @clearos-epel</span><br></pre></td></tr></table></figure>
<p><strong>如果有恭喜你，直接拉倒最后面看安装吧</strong></p>
<p><strong>如果没有 嘿嘿</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/yum.repos.d/epel.repo</span><br><span class="line"><span class="comment">#设置 enabled = 1 保存退出</span></span><br><span class="line"><span class="comment">#然后继续certbot-auto 执行吧</span></span><br><span class="line">certbot certonly --email mail@example.com  -d www.example.com</span><br></pre></td></tr></table></figure></p>
<p><strong>当然如果你没有可用的源</strong></p>
<p>以下或许可以给你帮助</p>
<h4 id="CentOs-5-x"><a href="#CentOs-5-x" class="headerlink" title="CentOs 5.x"></a>CentOs 5.x</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -Uvh http://mirror.webtatic.com/yum/el5/latest.rpm</span><br></pre></td></tr></table></figure>
<h4 id="CentOs-6-x"><a href="#CentOs-6-x" class="headerlink" title="CentOs 6.x"></a>CentOs 6.x</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">rpm -Uvh http://mirror.webtatic.com/yum/el6/latest.rpm</span><br><span class="line">rpm -Uvh http://ftp.iij.ad.jp/pub/linux/fedora/epel/6/x86_64/epel-release-6-8.noarch.rpm</span><br><span class="line">rpm -Uvh http://download.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm</span><br><span class="line">rpm -Uvh http://rpms.famillecollet.com/enterprise/remi-release-6.rpm</span><br><span class="line">rpm -Uvh https://dl.fedoraproject.org/pub/epel/epel-release-latest-6.noarch.rpm</span><br><span class="line">rpm -Uvh https://mirror.webtatic.com/yum/el6/latest.rpm</span><br></pre></td></tr></table></figure>
<h4 id="CentOs-7-X"><a href="#CentOs-7-X" class="headerlink" title="CentOs 7.X"></a>CentOs 7.X</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">rpm -Uvh https://mirror.webtatic.com/yum/el7/epel-release.rpm</span><br><span class="line">rpm -Uvh https://mirror.webtatic.com/yum/el7/webtatic-release.rpm</span><br><span class="line">rpm -ivh http://rpms.famillecollet.com/enterprise/remi-release-7.rpm</span><br><span class="line">rpm -Uvh https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm</span><br><span class="line">rpm -Uvh https://mirror.webtatic.com/yum/el7/webtatic-release.rpm</span><br></pre></td></tr></table></figure>
<h4 id="RHEL-官方扩展源"><a href="#RHEL-官方扩展源" class="headerlink" title="RHEL 官方扩展源"></a>RHEL 官方扩展源</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">yum localinstall http://dl.fedoraproject.org/pub/epel/7/x86_64/e/epel-release-7-5.noarch.rpm</span><br><span class="line"><span class="comment">#RepoForge源</span></span><br><span class="line">http://repoforge.org/use/  官网</span><br><span class="line"></span><br><span class="line">yum localinstall http://pkgs.repoforge.org/rpmforge-release/rpmforge-release-0.5.3-1.el7.rf.x86_64.rpm</span><br></pre></td></tr></table></figure>
<h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">wget -O /sbin/certbot https://dl.eff.org/certbot-auto</span><br><span class="line">chmod a+x /sbin/certbot</span><br><span class="line"></span><br><span class="line">certbot certonly --email mail@example.com  -d www.example.com</span><br></pre></td></tr></table></figure>
<p><strong>如图提示</strong></p>
<p><img src="http://0b8afef5.wiz03.com/share/resources/15d152d1-f7ef-4424-b803-6b0de453f8d8/index_files/65971320.png" alt=""></p>
</section><nav id="post-nav"><span class="prev"></span><span class="next"><a href="/2018/06/03/新人上线/">Older Posts<span class="arrow">→</span></a></span></nav></article></section><footer id="footer"><div id="social"><a class="symbol" href="https://github.com/fuzhouxxdong"><i class="fa fa-github"></i></a></div><p class="small">© Copyright 2018 &nbsp;<i class="fa fa-heart" aria-hidden="true">&nbsp;Dxx</i></p><p class="small">Powered by &nbsp;<a href="https://hexo.io/">Hexo &nbsp;</a>Theme By &nbsp;<a href="https://github.com/fuzhouxxdong/hexo-theme-dxx">Dxx</a></p></footer></body></html>